\section{Лекция 2}

\subsection{Формализация $\lambda$-термов, классы $\alpha$-эквивалентности термов}

\begin{definition}[$\lambda$-терм]
	Рассмотрим классы эквивалентности $[A]={\alpha}$ \\
	Будем говорить, что $[A]\to_{\beta}[B]$, если $\exists A^{'}\in [A], B^{'} \in [B]$, что $A^{'}\to_{\beta}B^{'}$.
\end{definition}

\begin{lemma}
	$=_{\alpha}$ "--- отношение эквивалентности.
\end{lemma}

Пусть в A есть $\beta$-редекc $\lambda{}x.Q$, но $P[x\coloneqq{}Q]$ не может быть,
тогда найдем $y\notin V[P]$, $y\notin V[Q]$. Сделаем замену $P[x\coloneqq{}y]$.
Тогда замена $P[x\coloneqq{}y][y\coloneqq{}Q]$ допустима.

\begin{lemma}
	$P[x\coloneqq{}y]=_{\alpha}P[x\coloneqq{}y][y\coloneqq{}Q]$, если замена допустима.
\end{lemma}

\subsection{Нормальная форма, $\lambda$-выражения без нормальной формы, комбинаторы $K$, $I$, $\Omega$}

\begin{definition}
	Нормальня форма "--- это $\lambda$-выражение без $\beta$-редексов.
\end{definition}

\begin{lemma}
	$\lambda$-выражение $A$ в нормальноф форме, т.и.т.т, когда $\nexists{}B$, что $A\to_{\beta}B$.
\end{lemma}

\begin{definition}
	$A$ "--- Н.Ф $B$, если $\exists A_{1}...A_{n}$, что $B=_{\alpha}A_{1}\to_{\beta}A_{2}\to_{\beta}...\to_{\beta}A_{n}=_{\alpha}A$.
\end{definition}

\begin{definition}
	Комбинатор "--- $\lambda$-выражение без свободных переменных.
\end{definition}

\begin{definition} 
	\hfill
	\begin{itemize}
		\item $I=\lambda{}x.x$ (Identitant)
		\item $K=\lambda{}a.\lambda{}b.a$ (Konstanz)
		\item $\Omega = (\lambda{}x.xx)(\lambda{}x.xx)$
	\end{itemize}
\end{definition}

\begin{lemma}
	$\Omega$ "--- не имеет нормальной формы.
\end{lemma}

\begin{proof}
	$\Omega\to_{\beta}\Omega$
\end{proof}

\subsection{$\beta$-редуцируемость}

\begin{definition}
	Будем говорить, что $A\twoheadrightarrow_{\beta}B$, если $\exists$ такие $X_{1}..X{n}$, что $A=_{\alpha}X_{1}\to_{\beta}X_{2}\to_{\beta}...\to_{\beta}X_{n-1}\to_{\beta}X_{n}=_{\alpha}B$.
\end{definition}

$\twoheadrightarrow_{\beta}$ "--- рефлексивное и транзитивное замыкание $\to_{\beta}$. $\twoheadrightarrow_{\beta}$ не обязательно приводит к нормальной форме
\begin{example}
	$\Omega\twoheadrightarrow_{\beta}\Omega$
\end{example}

\subsection{Ромбовидное свойство}

\begin{definition}[Ромбовидное свойство]
	Отношение $R$ обладает ромбовидным свойством, если $\forall a,b,c$, таких, что $aRb$, $aRc$, $b\neq{}c$, $\exists{}d$, что $bRd$ и $cRd$. Далее будем обозначать ромбовидное свойство как $<>$.
\end{definition}

\begin{example}
	$(\leq)$ на множестве натуральных чисел обладает $<>$
	$(>)$ не обладает $<>$ на множестве натуральных чисел 
\end{example}

\subsection{Теорема Чёрча-Россер, следствие о единственности нормальной формы}

\begin{theorem}[Черча-Россер]
	$(\twoheadrightarrow_{\beta})$ обладает ромбовидным свойством.
\end{theorem}


\begin{cons}
	Если у $A$ есть Н.Ф, то она единтсвенная с точностью до $(=_{\alpha})$ (переименования переменных).
\end{cons}

\begin{proof}
	Пусть $A\twoheadrightarrow_{\beta}B$ и $A\twoheadrightarrow_{\beta}C$. $B$, $C$ "--- нормальные формы и $B\neq_{\alpha}C$. 
	Тогда по теореме Черча-Россера $\exists{}D$: $B\twoheadrightarrow_{\beta}D$ и $C\twoheadrightarrow_{\beta}D$. Тогда $B=_{\alpha}D$ и $C=_{\alpha} D$ $\Rightarrow$ $B=_{\alpha}C$. Противоречие.
\end{proof}

\begin{lemma}
	Если $B$ "--- Н.Ф, то $\nexists{}Q$: $B\to_{\beta}Q$. Значит если $B\twoheadrightarrow_{\beta}Q$, то количество шагов редукции равно 0.
\end{lemma}

\begin{lemma}
	Если $R$ "--- обладает $<>$, то и $R^{*}$ (транзитивное, рефлексивное замыкание $R$) обладает $R^{*}$.
\end{lemma}

\begin{proof}
	content...
\end{proof}

\begin{lemma}[Грустная лемма]
	$(\to_{\beta})$ не обладает $<>$
\end{lemma}

\begin{definition}[Параллельная $\beta$-редукция]
	$A\rightrightarrows_{\beta}B$, если
	\begin{enumerate}
		\item $A=_{\alpha}B$
		\item $A\equiv{}P_{1}Q_{1}$, $B\equiv{}P_{2}Q_{2}$ и $P_{1}\rightrightarrows_{\beta}P_{2}$, $Q_{1}\rightrightarrows_{\beta}Q_{2}$
		\item $A\equiv{}\lambda{}x.P_{1}$, $B\equiv{}\lambda{}x.P_{2}$ и 
		$P_{1}\rightrightarrows_{\beta}P_{2}$
		\item $A=_{\alpha}(\lambda{}x.P)Q$, $B=_{\alpha}P[x\coloneqq{}Q]$
	\end{enumerate}
\end{definition}

\begin{lemma}
	$(\rightrightarrows_{\beta})$ обладает $<>$
\end{lemma}

$P_{1}\rightrightarrows_{\beta}P_{2}$ и $Q_{1}\rightrightarrows_{\beta}Q_{2}$, то $P_{1}[x\coloneqq{}Q_{1}]\rightrightarrows_{\beta}P_{2}[x\coloneqq{}Q2]$

\subsection{Нормальный и аппликативный порядок вычислений}

\begin{example}
	Выражение $KI\Omega$ можно редуцировать двумя способами:
	\begin{enumerate}
		\item $\comb K \comb I \Omega =_{\alpha} ((\lambda{}a.\lambda{}b.a) I) \Omega \to_{\beta} (\lambda{}b.\comb I)\Omega  \to_{\beta} \comb I$
		\item  $\comb K \comb I \Omega =_{\alpha} ((\lambda{}a.\lambda{}b.a) I)((\lambda{}x.x \ x) (\lambda{}x.x \ x)) \twoheadrightarrow_{\beta} ((\lambda{}a.\lambda{}b.a) I)((\lambda{}x.x \ x) (\lambda{}x.x \ x)) \to_{\beta} \comb K \comb I \Omega $
	\end{enumerate}
	
\end{example}

Как мы видим, в первом случае мы достигли нормальной формы, в то время как во втором мы получаем бесонечную редукцию. Разница двух этих способов в порядке редукции. Первый называется нормальный порядок, а второй аппликативный. 

\begin{definition}[нормальный порядок редукции]
	Редукция самого левого $\beta$-редекса.
\end{definition}

\begin{definition}[аппликативный порядок редукции]
	Редукция самого левого $\beta$-редекса из самых вложенных.
\end{definition}

\begin{statement}
	Если нормальная форма существует, она может быть достигнута нормальным порядком редукции.
\end{statement}